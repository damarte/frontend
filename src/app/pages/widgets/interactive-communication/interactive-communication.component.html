<div class="ui center aligned segment gadget" dnd-draggable [dragEnabled]="!inConfig" [dragData]="instanceId" [dropZones]="['c0','c1','c2','c3','r0','r1']">

  <app-gadget-header (mouseover)="showGadgetControls(true)" (mouseleave)="showGadgetControls(true)" [title]="title" [inRun]="inRun"
    [inConfig]="inConfig" [actionInitiated]="actionInitiated" [showOperationControls]="false" [gadgetHasOperationControls]="false"
    [showConfigurationControl]="showConfigurationControl" [showControls]="showControls" (toggleConfigModeEvent)="toggleConfigMode()"
    (removeEvent)="remove()">
  </app-gadget-header>

  <div *ngIf="!inConfig">
    <!-- <ng2-smart-table 
      [settings]="settings" 
      [source]="source">
    </ng2-smart-table> -->

    <dx-data-grid
        id="gridContainer"
        [dataSource]="attributes"
        [columns]="['attribute', 'value', 'timestamp']">
    </dx-data-grid>
  </div>

  <app-dynamic-form *ngIf="inConfig" [propertyPages]="propertyPages" [instanceId]="instanceId" (updatePropertiesEvent)="updateProperties($event)">
  </app-dynamic-form>

  <app-error-handler [errorObject]="errorObject" [errorExists]="errorExists">
  </app-error-handler>

  <app-vis-drill-down-modal #drillDownPopUp></app-vis-drill-down-modal>

  <app-help-modal #helpModal></app-help-modal>

  <div class="ui bottom attached" *ngIf="actionInitiated">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>


</div>